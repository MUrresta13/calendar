<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Calendar — Dracula’s Tic‑Tac‑Toe</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Start overlay -->
  <div id="startOverlay" class="start-overlay" aria-modal="true" role="dialog">
    <button id="startBtn" class="start-btn" autofocus>Start the Challenge</button>
  </div>

  <!-- Video -->
  <div id="introVideoWrap" class="intro-video hidden" aria-hidden="true">
    <video id="introVideo" playsinline preload="auto" class="intro-video-el">
      <source src="Dracula.mp4" type="video/mp4" />
    </video>
    <button id="unmuteBtn" class="unmute-btn hidden" aria-label="Unmute video">Tap to unmute</button>
  </div>

  <!-- App -->
  <main id="app" class="wrap app hidden" aria-hidden="true">
    <header class="hdr">
      <h1>🕯️ Dracula’s Tic‑Tac‑Toe</h1>
      <p class="sub">Defeat <strong>Dracula</strong> once to reveal the passcode for Clue 3. Dracula goes first… unless you draw with him three times in a row — then you get the first move for the next round.</p>
      <div class="stats">
        <div class="stat"><span id="wins">0</span><small>Wins</small></div>
        <div class="stat"><span id="ties">0</span><small>Draws</small></div>
        <div class="stat"><span id="losses">0</span><small>Losses</small></div>
        <div class="stat streak">
          <span id="drawStreak">0</span><small>Draw Streak</small>
          <div class="progress"><div id="pbar"></div></div>
        </div>
      </div>
    </header>

    <section class="board-card">
      <div id="board" class="board" role="grid" aria-label="Tic tac toe board">
        <button class="cell" data-idx="0" aria-label="cell 1"></button>
        <button class="cell" data-idx="1" aria-label="cell 2"></button>
        <button class="cell" data-idx="2" aria-label="cell 3"></button>
        <button class="cell" data-idx="3" aria-label="cell 4"></button>
        <button class="cell" data-idx="4" aria-label="cell 5"></button>
        <button class="cell" data-idx="5" aria-label="cell 6"></button>
        <button class="cell" data-idx="6" aria-label="cell 7"></button>
        <button class="cell" data-idx="7" aria-label="cell 8"></button>
        <button class="cell" data-idx="8" aria-label="cell 9"></button>
      </div>
      <div class="controls single">
        <span id="turnText" class="turn">Dracula starts…</span>
      </div>
      <p class="tips">You are <b>🎃</b>. Dracula is <b>🦇</b>. Tap a square to place your pumpkin.</p>
    </section>
  </main>

  <dialog id="resultDlg">
    <h2 id="resultTitle">Result</h2>
    <p id="resultMsg"></p>
    <div class="dlg-actions">
      <button class="btn" id="againBtn">Play again</button>
    </div>
  </dialog>

  <dialog id="passDlg">
    <h2>Victory! 🎉</h2>
    <p class="code-line">Passcode for Clue 3:</p>
    <div class="code-box" id="code">DRACULASDEBT</div>
    <div class="dlg-actions">
      <button class="btn" id="copyBtn">Copy code</button>
      <button class="btn primary" id="closePass">Close</button>
    </div>
  </dialog>

  <script src="script.js?v=11"></script>
</body>
</html>
